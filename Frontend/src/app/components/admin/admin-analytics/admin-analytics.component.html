<app-admin-navbar></app-admin-navbar>

<div class="dashboard-layout d-flex">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h3>Analytics</h3>
    </div>
    <nav class="sidebar-nav">
      <ul>
        <li (click)="navigateTo('admin-dashboard')">Dashboard</li>
        <li (click)="navigateTo('admin-users')">Users</li>
        <li class="active" (click)="navigateTo('admin-analytics')">
          Analytics
        </li>
        <li (click)="navigateTo('admin-requests')">Requests</li>
        <li (click)="navigateTo('admin-profile')">Profile</li>
        <li (click)="logout()">Logout</li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->

  <div class="dashboard-container flex-grow-1 p-4">
    <br /><br />
    <div class="container mt-4">
      <h2 class="text-left mb-5 fw-bold">Admin Analytics</h2>

      <!-- Category Summary Boxes -->
      <div class="row justify-content-left text-center mb-5 g-3">
        @for (item of categorySummary; track item.label) {
        <div
          class="col-6 col-sm-4 col-md-3 col-lg-2"
          style="margin-right: 105px; width: 300px"
        >
          <div class="card shadow-sm py-3 h-100">
            <div class="fw-bold text-uppercase text-muted small">
              {{ item.label }}
            </div>
            <div class="fs-4 fw-semibold text-primary">{{ item.count }}</div>
          </div>
        </div>
        }
      </div>

      <!-- Charts Section Side by Side -->
      <div class="row g-4">
        <!-- Bar Chart -->
        <div class="col-lg-6 col-md-12">
          <div class="card chart-card3 shadow p-4 h-100">
            <h5 class="text-center mb-3 fw-semibold">Bar Chart</h5>
            @if (barChartData) {
            <canvas
              baseChart
              [data]="barChartData"
              [options]="barChartOptions"
              [type]="'bar'"
            ></canvas>
            }
          </div>
        </div>

        <!-- Pie Chart -->
        <div class="col-lg-6 col-md-12">
          <div
            class="card chart-card3 shadow p-4"
            style="
              height: 550px;
              display: flex;
              flex-direction: column;
              justify-content: center;
            "
          >
            <h5 class="text-center mb-3 fw-semibold">Pie Chart</h5>
            @if (pieChartData) {
            <canvas
              baseChart
              [data]="pieChartData"
              [options]="pieChartOptions"
              [type]="'pie'"
            ></canvas>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
